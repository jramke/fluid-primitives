import{FieldAwareComponent as e,Machine as t,getListCollectionFromHydrationData as n,mergeProps as r,normalizeProps as i}from"./Client-C2pG0vwh.js";import{getControlId as a,getLabelId as o}from"./field.dom-BPeGctuk.js";import*as s from"@zag-js/select";var c=class extends e{static name=`select`;propsWithField(e,t){return{...e,disabled:e.disabled??t.ctx.get(`disabled`),readOnly:e.readOnly??t.ctx.get(`readOnly`),required:e.required??t.ctx.get(`required`),invalid:e.invalid??t.ctx.get(`invalid`),name:e.name??t.prop(`name`),ids:{...e.ids,label:o(t.scope),hiddenSelect:a(t.scope)}}}initMachine(e){return e=this.withFieldProps(e),new t(s.machine,{...e,get collection(){return n(e.collection)}})}initApi(){return s.connect(this.machine.service,i)}render=()=>{this.subscribeToFieldService();let e=this.getElement(`root`);e&&this.spreadProps(e,this.api.getRootProps());let t=this.getElement(`control`);t&&this.spreadProps(t,this.api.getControlProps());let n=this.getElement(`hidden-select`);if(n){let e=r(this.api.getHiddenSelectProps(),{"aria-describedby":this.fieldMachine?.ctx.get(`describeIds`)||void 0});this.spreadProps(n,e)}let i=this.getElement(`label`);i&&this.spreadProps(i,this.api.getLabelProps());let a=this.getElement(`trigger`);a&&this.spreadProps(a,this.api.getTriggerProps());let o=this.getElement(`positioner`);o&&this.spreadProps(o,this.api.getPositionerProps());let s=this.getElement(`content`);s&&this.spreadProps(s,this.api.getContentProps());let c=this.getElement(`value-text`);c&&this.spreadProps(c,r(this.api.getValueTextProps(),{children:this.api.valueAsString||c.dataset.placeholder}));let l=this.getElements(`item-group`);l.forEach(e=>{this.spreadProps(e,this.api.getItemGroupProps({id:e.dataset.id}));let t=this.getElement(`item-group-label`,e);t&&this.spreadProps(t,this.api.getItemGroupLabelProps({htmlFor:e.dataset.id}))});let u=this.getElements(`item`);u.forEach(e=>{let t=this.api.collection.find(e.dataset.value);t&&this.spreadProps(e,this.api.getItemProps({item:t}))});let d=this.getElements(`item-text`);d.forEach(e=>{let t=this.api.collection.find(e.dataset.value);t&&this.spreadProps(e,this.api.getItemTextProps({item:t}))});let f=this.getElements(`item-indicator`);f.forEach(e=>{let t=this.api.collection.find(e.dataset.value);t&&this.spreadProps(e,this.api.getItemIndicatorProps({item:t}))});let p=this.getElement(`clear-trigger`);p&&this.spreadProps(p,this.api.getClearTriggerProps());let m=this.getElement(`indicator`);m&&this.spreadProps(m,this.api.getIndicatorProps())}};export{c as Select};