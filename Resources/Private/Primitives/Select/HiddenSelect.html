<select
    {f:if(condition: class, then: 'class="{class}"' )}
    {f:if(condition: context.ids.hidden-select, then: 'id="{context.ids.hidden-select}"' )}
    {f:if(condition: context.form, then: 'form="{context.form}"' )}
    {f:if(condition: context.name, then: 'name="{context.name}"' )}
    {f:if(condition: context.disabled, then: 'disabled' )}
    {f:if(condition: context.multiple, then: 'multiple' )}
    {f:if(condition: context.required, then: 'required' )}
    {ui:ref(name: 'hidden-select' )}
    aria-hidden="true"
    tabindex="-1"
    style="{settings.visuallyHiddenStyles}"
    {ui:attributes(skip: 'style' )}>
    <f:for each="{context.collection.items}" as="item" iteration="i">
        <f:comment>
            <!-- TODO: this needs to be improved by item state -->
        </f:comment>
        <option value="{item.value}" {f:if(condition: item.disabled, then: 'disabled' )}>
            {item.label}
        </option>
    </f:for>
</select>